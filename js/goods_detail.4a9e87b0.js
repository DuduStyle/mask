(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"134":function(e,t,n){var o=n(135);"string"==typeof o&&(o=[[e.i,o,""]]);var r={"sourceMap":!1,"insertAt":"top","hmr":!0,"transform":void 0,"insertInto":void 0};n(33)(o,r);o.locals&&(e.exports=o.locals)},"135":function(e,t,n){(e.exports=n(32)(!1)).push([e.i,"input {\n  display: block;\n  height: 1.4rem;\n  text-align: inherit;\n  text-overflow: clip;\n  overflow: hidden;\n  white-space: nowrap;\n}",""])},"159":function(e,t,n){"use strict";var o=n(110),r=n(17),a=n(111),i=n(15),s="WECHAT",c="ALIPAY",u="MINIPROGRAM",l="OTHERS",p=function getUserAgent(){if(navigator){var e=void 0;/MicroMessenger/i.test(navigator.userAgent)&&wx.miniProgram.getEnv(function(t){console.log("miniprogram",t.miniprogram),e=t.miniprogram});var t=navigator.userAgent.toLowerCase();return"alipay"==t.match(/Alipay/i)?c:"micromessenger"==t.match(/MicroMessenger/i)?s:e?u:l}},d=n(19),f=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var m=new(function(e){function WechartService(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WechartService),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WechartService.__proto__||Object.getPrototypeOf(WechartService)).call(this,{"hostKey":"ydjia"}))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WechartService,d["a"]),f(WechartService,[{"key":"wechartJsApiSign","value":function wechartJsApiSign(e){return this.post({"url":"/we-chat/js-sign","data":{"url":e}})}}]),WechartService}()),h=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var g=new(function(){function WechartJSApi(){!function wechart_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WechartJSApi)}return h(WechartJSApi,[{"key":"evokeWechartJsApi","value":function evokeWechartJsApi(e,t,n,o){var r=this;return new Promise(function(n,o){var a=m.wechartJsApiSign(e);"10000"===a.code&&"location"===t&&r.evokeLocationApi(a.data).then(function(e){n(e)}).catch(function(e){o(e)})})}},{"key":"setJsApiConfig","value":function setJsApiConfig(e){wx.config({"debug":!1,"appId":e.appId,"timestamp":parseInt(e.timestamp),"nonceStr":e.nonceStr,"signature":e.signature,"jsApiList":["updateAppMessageShareData","updateTimelineShareData","scanQRCode","hideMenuItems","showMenuItems","hideOptionMenu","getLocation"]})}},{"key":"evokeShareApi","value":function evokeShareApi(e,t){this.setJsApiConfig(e)}},{"key":"evokeLocationApi","value":function evokeLocationApi(e){var t=this;return new Promise(function(n,o){t.setJsApiConfig(e),wx.ready(function(){console.log("进入wx.ready, 开始wx sdk定位"),wx.getLocation({"type":"wgs84","success":function success(e){console.warn("微信sdk定位成功",e),n({"lat":e.latitude,"lng":e.longitude,"speed":e.speed,"accuracy":e.accuracy})},"fail":function fail(e){console.error("微信sdk定位失败",e),o(e)}})}),wx.error(function(e){console.log("wxjsapi-error=",e),o("wxjsapi-error: "+e)})})}}]),WechartJSApi}()),y=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var b=new(n(58))({"key":i.a.qqMapKey}),v=function(){function qqMapClass(){!function qqMap_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,qqMapClass)}return y(qqMapClass,[{"key":"getUserLocation","value":function getUserLocation(e){p()!==u&&p()!==s||(console.warn("小程序-webview内定位 || 微信内容h5定位"),function handlerLoadScript(e){if(p()===s){var t="https://res.wx.qq.com/open/js/jweixin-1.4.0.js";"function"!=typeof e&&(e=function callback(){});var n=document.querySelectorAll('script[src="'+t+'"]');if(n.length>0)return n[0].addEventListener("load",function(){e()}),void e();var o=document.createElement("script"),r=document.getElementsByTagName("head")[0];o.type="text/javascript",o.charset="UTF-8",o.src=t,o.addEventListener?o.addEventListener("load",function(){e()},!1):o.attachEvent&&o.attachEvent("onreadystatechange",function(){if(window.event){var t=window.event.srcElement;t&&"loaded"===t.readyState&&e()}}),r.appendChild(o)}}(function(){g.evokeWechartJsApi(window.location.href,"location").then(function(e){console.log("微信sdk获取位置成功",e)}).catch(function(e){console.error("微信sdk定位失败",e)})}))}},{"key":"getReverseGeocoder","value":function getReverseGeocoder(e,t){console.log("触发逆地址解析。。。。。。。。");b.reverseGeocoder({"location":{"latitude":t.latitude,"longitude":t.longitude},"success":function success(e){console.log("success-----getReverseGeocoder==="+JSON.stringify(e));var t=e,n=t.result.address_component.city.split("");"市"===n[n.length-1]&&n.splice(n.length-1,1),t.result.address_component.city=n.join("");var r=t.result.address_component,a=r.nation,i=r.province,s=r.city,c=r.district,u=r.street,l=r.street_number,p={"location":t.result.location,"formatted_address":t.result.address,"addressComponent":{"nation":a,"province":i,"city":s,"district":c,"street":u,"street_number":l}};Object(o.d)("completeLocationData",p)},"fail":function fail(e){console.log("fail-----qqMap------app==="+JSON.stringify(e))},"complete":function complete(t){console.log(t),e&&e()}})}},{"key":"getSuggestionLocation","value":function getSuggestionLocation(){}},{"key":"showRedmine","value":function showRedmine(e,t){var n=this;Object(r.d)({"title":"请求授权当前位置","content":"海典健康需要获取您的地理位置，请确认授权","success":function success(o){o.cancel?n.getUserLocation(e):o.confirm&&Object(a.f)({"success":function success(o){!0===o.authSetting["scope.userLocation"]?n.getReverseGeocoder(e,t):console.log("定位授权失败！！！")}})}})}}]),qqMapClass}();t.a=new v},"164":function(e,t,n){"use strict";n(18);var o=n(1),r=n(34),a=n(8),i=n.n(a),s=(n(134),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}),c=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function getTrueType(e,t,n){if(!e)throw new Error("unexpected type");return"search"===t&&(e="search"),n&&(e="password"),"digit"===e&&(e="number"),e}var u=function(e){function Input(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Input);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Input.__proto__||Object.getPrototypeOf(Input)).apply(this,arguments));return e.onInput=e.onInput.bind(e),e.onFocus=e.onFocus.bind(e),e.onBlur=e.onBlur.bind(e),e.onKeyDown=e.onKeyDown.bind(e),e.handleComposition=e.handleComposition.bind(e),e.isOnComposition=!1,e.onInputExcuted=!1,e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Input,o["j"].Component),c(Input,[{"key":"componentDidMount","value":function componentDidMount(){"file"===this.props.type&&this.inputRef.addEventListener("change",this.onInput)}},{"key":"componentWillUnmount","value":function componentWillUnmount(){"file"===this.props.type&&this.inputRef.removeEventListener("change",this.onInput)}},{"key":"onInput","value":function onInput(e){var t=this.props,n=t.type,o=t.maxLength,r=t.confirmType,a=t.password,i=t.onInput,onInput=void 0===i?"":i,s=t.onChange,c=void 0===s?"":s;if(!this.isOnComposition&&!this.onInputExcuted){var u=e.target.value,l=getTrueType(n,r,a);if(this.onInputExcuted=!0,"number"===l&&u&&o<=u.length&&(u=u.substring(0,o),e.target.value=u),Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":u}}),!(["number","file"].indexOf(l)>=0)){var p=e.target.selectionEnd;setTimeout(function(){e.target.selectionStart=p,e.target.selectionEnd=p})}if(c)return c(e);if(onInput)return onInput(e)}}},{"key":"onFocus","value":function onFocus(e){var onFocus=this.props.onFocus;this.onInputExcuted=!1,Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":e.target.value}}),onFocus&&onFocus(e)}},{"key":"onBlur","value":function onBlur(e){var onBlur=this.props.onBlur;Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":e.target.value}}),onBlur&&onBlur(e)}},{"key":"onKeyDown","value":function onKeyDown(e){var t=this.props,n=t.onConfirm,onKeyDown=t.onKeyDown;this.onInputExcuted=!1,onKeyDown&&onKeyDown(e),13===e.keyCode&&n&&(Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":e.target.value}}),n(e))}},{"key":"handleComposition","value":function handleComposition(e){e.target instanceof HTMLInputElement&&("compositionend"===e.type?(this.isOnComposition=!1,this.onInputExcuted=!1,this.onInput(e)):this.isOnComposition=!0)}},{"key":"render","value":function render(){var e=this,t=this.props,n=t.className,a=void 0===n?"":n,c=t.placeholder,u=t.type,l=void 0===u?"text":u,p=t.password,d=t.disabled,f=t.maxLength,m=t.confirmType,h=void 0===m?"":m,g=t.focus,y=void 0!==g&&g,b=t.value,v=i()("weui-input",a),w=Object(r.a)(this.props,["className","placeholder","disabled","max","onChange","onFocus","onBlur","type","focus"]);return"value"in this.props&&(w.value=function fixControlledValue(e){return void 0===e||null===e?"":e}(b)),o.j.createElement("input",s({"ref":function ref(t){e.inputRef=t,t&&y&&t.focus()}},w,{"className":v,"placeholder":c,"disabled":d,"maxlength":f,"onInput":this.onInput,"onFocus":this.onFocus,"onBlur":this.onBlur,"autofocus":y,"onKeyDown":this.onKeyDown,"type":getTrueType(l,h,p),"onCompositionStart":this.handleComposition,"onCompositionEnd":this.handleComposition}))}}]),Input}();u.defaultProps={"type":"text"},t.a=u},"192":function(e,t,n){},"194":function(e,t,n){var o=n(195);e.exports=function toString(e){return null==e?"":o(e)}},"195":function(e,t,n){var o=n(157),r=n(198),a=n(199),i=n(200),s=1/0,c=o?o.prototype:void 0,u=c?c.toString:void 0;e.exports=function baseToString(e){if("string"==typeof e)return e;if(a(e))return r(e,baseToString)+"";if(i(e))return u?u.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}},"198":function(e,t){e.exports=function arrayMap(e,t){for(var n=-1,o=null==e?0:e.length,r=Array(o);++n<o;)r[n]=t(e[n],n,e);return r}},"199":function(e,t){var n=Array.isArray;e.exports=n},"200":function(e,t,n){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(163),a=n(203),i="[object Symbol]";e.exports=function isSymbol(e){return"symbol"==(void 0===e?"undefined":o(e))||a(e)&&r(e)==i}},"203":function(e,t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function isObjectLike(e){return null!=e&&"object"==(void 0===e?"undefined":n(e))}},"204":function(e,t){e.exports="data:image/png;base64,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"},"209":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAABrklEQVRoQ+2Yv0vDQBTHX/oDg9Ch2EUF0UUQUUH/A8HVzf9BB2eR/g1O4uDm4qKjg+CvwT+gi7jooCCSLsWhooViIxdsKbW55O693F3hZQy5l8/nfe+SXLwwDEMY4cNjAcvpcQKWAwBOgBNAdoCnELKB6OHOJ/D0FcD8+GSsqNMC1ZczOHq/gfPFXdgoLw2VcFZAwB+8XUbQfq4Ityv7sFaa+yfhpEA/vCDenFiF04UdKOYK7guowAsbpxJQhXdKQAfeGQFdeCcEMPDWBbDwVgUo4K0JUMFLBVqdNjTanzA9VkZ/cPUXoISPFRDwW4+H8PwdwNXyHsz4FRIJavhYAQF/0ahF0LN+hUQiC/hYgeuPhygBkQSFRFbw0jVAJZElfOJTCCuRNXyigLhAV8IEfCoBHQlT8KkFVCRMwisJpJEwDa8sIJM4Du56e9ikbSDJW/GviNaObHBhl/I+NH9aPS7ZHpYSXiuBLsCgRPe8SXiUwLDpZBoeLSAK1JqvcFK/j/6ebU+tQ8HLU88SaT2tNWCUMOFmLGA7DU6AE0B2gKcQsoHo4ZwAuoXIAiOfwC9Fn8eAzqQEOgAAAABJRU5ErkJggg=="},"252":function(e,t,n){"use strict";n.r(t);var o=n(1),r=n(120),a=n(110),i=n(2),s=n(17),c=n(111),u=n(21),l=n(242),p=n(126),d=n(35),f=n(164),m=n(136),h=n.n(m),g=n(8),y=n.n(g),b=n(194),v=n.n(b),w=n(137),k=n(166),A=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function addNum(e,t){var n=void 0,o=void 0;try{n=v()(e).split(".")[1].length}catch(e){n=0}try{o=v()(t).split(".")[1].length}catch(e){o=0}var r=Math.pow(10,Math.max(n,o));return(Math.round(e*r)+Math.round(t*r))/r}Object(k.b)();var C=function(e){function AtInputNumber(){var e,t,n;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtInputNumber);for(var o=arguments.length,r=Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=n=_possibleConstructorReturn(this,(e=AtInputNumber.__proto__||Object.getPrototypeOf(AtInputNumber)).call.apply(e,[this].concat(r))),n.handleValue=function(e){var t=n.props,o=t.max,r=t.min,a=""===e?r:e;return a>o&&(a=o,n.handleError({"type":"OVER","errorValue":a})),a<r&&(a=r,n.handleError({"type":"LOW","errorValue":a})),a=function parseValue(e){if(""===e)return"0";var t=v()(e);return 0===t.indexOf("0")&&-1===t.indexOf(".")?v()(parseFloat(e)):v()(e)}(a)},n.handleInput=function(e){for(var t,o=arguments.length,r=Array(o>1?o-1:0),a=1;a<o;a++)r[a-1]=arguments[a];var i=e.target.value;if(!n.props.disabled){var s=n.handleValue(i);return(t=n.props).onChange.apply(t,[s,e].concat(r)),s}},n.handleBlur=function(){var e;return(e=n.props).onBlur.apply(e,arguments)},n.handleError=function(e){n.props.onErrorInput&&n.props.onErrorInput(e)},_possibleConstructorReturn(n,t)}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtInputNumber,w["a"]),A(AtInputNumber,[{"key":"handleClick","value":function handleClick(e){var t=this.props,n=t.disabled,o=t.value,r=t.min,a=t.max,i=t.step,s="minus"===e&&o<=r;if(s||"plus"===e&&o>=a||n){var c=addNum(o,"minus"===e?-i:i);n?this.handleError({"type":"DISABLED","errorValue":c}):this.handleError({"type":s?"LOW":"OVER","errorValue":c})}else{var u=addNum(o,"minus"===e?-i:i);u=this.handleValue(u),this.props.onChange(u)}}},{"key":"render","value":function render(){var e=this.props,t=e.customStyle,n=e.className,r=e.width,a=e.disabled,s=e.value,c=e.type,l=e.min,d=e.max,m=e.size,h=e.disabledInput,g={"width":r?""+i.a.pxTransform(r):""},b=this.handleValue(s),v=y()("at-input-number",{"at-input-number--lg":m},n),w=y()("at-input-number__btn",{"at-input-number--disabled":b<=l||a}),k=y()("at-input-number__btn",{"at-input-number--disabled":b>=d||a});return o.j.createElement(u.a,{"className":v,"style":t},o.j.createElement(u.a,{"className":w,"onClick":this.handleClick.bind(this,"minus")},o.j.createElement(p.a,{"className":"at-icon at-icon-subtract at-input-number__btn-subtract"})),o.j.createElement(f.a,{"className":"at-input-number__input","style":g,"type":c,"value":b,"disabled":h||a,"onInput":this.handleInput,"onBlur":this.handleBlur}),o.j.createElement(u.a,{"className":k,"onClick":this.handleClick.bind(this,"plus")},o.j.createElement(p.a,{"className":"at-icon at-icon-add at-input-number__btn-add"})))}}]),AtInputNumber}();C.defaultProps={"customStyle":"","className":"","disabled":!1,"disabledInput":!1,"value":1,"type":"number","width":0,"min":0,"max":100,"step":1,"size":"","onChange":function onChange(){},"onBlur":function onBlur(){}},C.propTypes={"customStyle":h.a.oneOfType([h.a.object,h.a.string]),"className":h.a.oneOfType([h.a.array,h.a.string]),"value":h.a.oneOfType([h.a.number,h.a.string]),"type":h.a.oneOf(["number","digit"]),"disabled":h.a.bool,"width":h.a.number,"min":h.a.number,"max":h.a.number,"step":h.a.number,"size":h.a.string,"disabledInput":h.a.bool,"onChange":h.a.func,"onBlur":h.a.func,"onErrorInput":h.a.func};var j=C,I=n(257),O=n(159),E=n(114),S=n(119),B=n(127),N=n(129),P=n(25),M=n(15),R=["jCCGPfSRfR1i6lTzU3zak7gt504DAtDueC0pZiEsPyY","53esg9D57vDS_kVECMmeWKRCAmw1Rmw0WC7EDZyB-ts","wnOD02ZSqyfAl-UZm3oMtO4GSh9FmUsJcFqgCFHjwMY"],x=n(149),D=(n(192),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}()),L=function get(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0};function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(o,r){try{var a=t[o](r),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}var J=function(e){function Index(){!function detail_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Index);var e=function detail_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Index.__proto__||Object.getPrototypeOf(Index)).apply(this,arguments));return e.useCallBack=function(){Object(a.a)("reLocationFlag")&&Object(a.b)("reLocationFlag"),e.setState({"locationInfo":Object(a.a)("abbrLocation")})},e.state={"storeList":[],"storeId":"","storeName":"","storePageNo":1,"storePageSize":10,"storeHasMore":!0,"number":1,"reserveInfo":null,"goodsInfo":null,"storeModalOpen":!1,"locationInfo":null,"submitBtnClickable":!0},e}return function detail_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,i["a"].Component),D(Index,[{"key":"onShareAppMessage","value":function onShareAppMessage(e){var t=this.state.goodsInfo,n=""+M.a.imgPrefix+t.imgUrl;return"button"===e.from&&console.warn("来自页面按钮==",e.target),{"title":t.name,"imageUrl":n,"path":"/pages/goods/detail?merCode="+Object(a.a)("merCode")+"&goodsInfo="+encodeURIComponent(JSON.stringify(t).replace(/%/g,"%25")),"success":function success(e){console.log("转发成功",e)},"fail":function fail(e){console.log("转发失败",e)}}}},{"key":"componentDidShow","value":function componentDidShow(){Object(x.a)(),console.log(i.a.getCurrentPages());var e=this.$router.params.goodsInfo;if(Object(a.a)("maskToken")){this.queryReserveInfo(),this.setState({"goodsInfo":JSON.parse(decodeURIComponent(e))});var t=Object(a.a)("reLocationFlag");!Object(a.a)("completeLocationData")||t?O.a.getUserLocation(this.useCallBack):this.useCallBack()}else i.a.navigateTo({"url":"/pages/authorization/auth"})}},{"key":"queryReserveInfo","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e;return regeneratorRuntime.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.queryMemberInfo();case 2:e=t.sent,console.log("reserveInfo",e),this.setState({"reserveInfoQueryFinished":!0}),"10000"===e.code?(console.log("success"),e.data&&e.data.personName?(this.setState({"reserveInfo":e.data}),Object(a.d)("reserveInfo",e.data)):Object(a.b)("reserveInfo")):Object(a.b)("reserveInfo");case 6:case"end":return t.stop()}},_callee,this)}));return function queryReserveInfo(){return e.apply(this,arguments)}}()},{"key":"handleNumChange","value":function handleNumChange(e){this.setState({"number":e,"storeModalOpen":!1})}},{"key":"handleNumBlur","value":function handleNumBlur(e){console.log("e",e),"0"===e.detail.value&&this.setState({"number":1})}},{"key":"handleNumErr","value":function handleNumErr(e){console.log("errr ",e)}},{"key":"queryStoreList","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var e,t,n,o,r;return regeneratorRuntime.wrap(function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:if(e=this.state,t=e.locationInfo,n=e.storePageNo,o=e.storePageSize,e.storeList,t){a.next=4;break}return Object(s.e)({"title":"获取位置失败","icon":"none","mask":!0}),a.abrupt("return");case 4:return Object(s.c)({"title":"加载中...","mask":!0}),a.next=7,P.a.queryNearbyStoreList({"latitude":t.lat,"longitude":t.lng,"page":n,"size":o});case 7:r=a.sent,console.log("result",r),Object(s.a)(),"10000"===r.code?(this.setState({"storeHasMore":!1}),r.data&&r.data.length>0?this.setState({"storeList":this.state.storeList.concat(r.data),"storePageNo":this.state.storePageNo+1,"storeModalOpen":!0}):1===n&&Object(s.d)({"showCancel":!1,"title":"提示","content":"很抱歉，附近暂无可预约领取门店","confirmText":"知道了","confirmColor":"#647BBC"}),console.log("result.data",r.data,o),(!r.data||r.data&&r.data.length<o)&&(console.log("into result.data && result.data.length < storePageSize"),this.setState({"storeHasMore":!1}))):this.setState({"storeHasMore":!1});case 11:case"end":return a.stop()}},_callee2,this)}));return function queryStoreList(){return e.apply(this,arguments)}}()},{"key":"selectStore","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:this.state.storeList.length<=0?this.queryStoreList():this.setState({"storeModalOpen":!0});case 1:case"end":return e.stop()}},_callee3,this)}));return function selectStore(){return e.apply(this,arguments)}}()},{"key":"submit","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){var e,t,n,o,r,a;return regeneratorRuntime.wrap(function _callee4$(c){for(;;)switch(c.prev=c.next){case 0:return e=this.state,t=e.number,n=e.goodsInfo,o=e.storeId,Object(s.c)({"title":"正在提交...","mask":!0}),c.next=4,P.a.submitReservation({"productCount":t,"productId":n.id,"storeId":o});case 4:r=c.sent,console.error("submit result",r),"10000"===r.code?(Object(s.a)(),i.a.navigateTo({"url":"/pages/goods/reserveResult?type=success"})):(console.log("into error",r),a=r.msg,Object(s.a)(),i.a.navigateTo({"url":"/pages/goods/reserveResult?type=fail&errText="+a}));case 7:case"end":return c.stop()}},_callee4,this)}));return function submit(){return e.apply(this,arguments)}}()},{"key":"submitBtnClick","value":function submitBtnClick(e){var t=this;this.state.number<=0?Object(s.e)({"title":"请输入正确的商品数量哦","mask":!0,"icon":"none","duration":1500}):this.state.reserveInfo?this.state.storeId?this.state.submitBtnClickable&&(this.setState({"submitBtnClickable":!1}),console.log("caniuse",Object(c.a)("requestSubscribeMessage")),Object(c.a)("requestSubscribeMessage")?i.a.requestSubscribeMessage({"tmplIds":R,"success":function success(e){console.log("订阅消息操作成功",e)},"fail":function fail(e){console.log("订阅消息操作失败:",e.errCode),Object(s.e)({"title":"订阅消息失败："+e.errCode})},"complete":function complete(){setTimeout(function(){t.setState({"submitBtnClickable":!0}),t.submit()},300)}}):Object(s.d)({"title":"提示","content":"当前微信版本过低，无法使用该功能，请升级到最新微信版本后重试。","success":function success(e){t.setState({"submitBtnClickable":!0})}})):Object(s.e)({"title":"请先选择提货门店","icon":"none","mask":!0,"duration":1200}):Object(s.d)({"title":"提示","content":"预约前请先填写个人信息，我们可更快处理您的预约订单","confirmText":"马上填写","confirmColor":"#576B95","cancelText":"先看看","cancelColor":"#000000","success":function success(e){e.confirm?i.a.navigateTo({"url":"/usercenter/info/form"}):console.log("click modal, do nothing")}})}},{"key":"handleClose","value":function handleClose(){console.log("handleClose")}},{"key":"storeItemClick","value":function storeItemClick(e){var t=this;console.log("item",e),this.setState({"storeId":e.id,"storeName":e.storeName,"storeModalOpen":!1},function(){console.log(t.state)})}},{"key":"render","value":function render(){var e=this,t=this.state,r=t.number,a=t.goodsInfo,i=t.reserveInfo,s=t.storeList,c=t.storeId,d=t.storeName,f=t.storeHasMore,m=t.storeModalOpen;return console.log("this.state.storeList",s,d),o.j.createElement(u.a,{"className":"goods-detail-page"},o.j.createElement(E.a,{"title":"商品详情"}),a&&o.j.createElement(u.a,{"className":"goods-main"},o.j.createElement(u.a,{"className":"main-pic"},o.j.createElement(l.a,{"src":""+M.a.imgPrefix+a.imgUrl})),o.j.createElement(u.a,{"className":"content"},a.deliveryTime?o.j.createElement(u.a,{"className":"status-reminder","style":{"background":"rgba(254,180,0,0.1)","color":"#FEB400"}},"商品预计",a.deliveryTime,"天到货，疫情防控关键期导致的延迟，敬请谅解。具体到货时间请留意您的预约单消息。"):null,o.j.createElement(u.a,{"className":"goods-info"},o.j.createElement(u.a,{"className":"goods-info-top"},o.j.createElement(u.a,{"className":"goods-name"},a.name),o.j.createElement(u.a,{"className":"goods-desc"},0===a.daysPerMember&&0===a.countPerMember?null:"每人"+a.daysPerMember+"天内限购"+a.countPerMember+(a.unit||"件"))),o.j.createElement(u.a,{"className":"goods-info-bottom"},o.j.createElement(u.a,{"className":"goods-price"},o.j.createElement(p.a,{"className":"bill-icon"},"¥"),o.j.createElement(p.a,{"className":"price-number"},a.price)),o.j.createElement(j,{"type":"number","min":0,"max":a.countPerMember>0?a.countPerMember:9999,"step":1,"value":r,"onChange":this.handleNumChange.bind(this),"onBlur":this.handleNumBlur.bind(this),"onErrorInput":this.handleNumErr.bind(this)}))),o.j.createElement(u.a,{"className":"delivery-info"},o.j.createElement(u.a,{"className":"delivery-store"},o.j.createElement(u.a,{"className":"delivery-info-left"},"提货门店"),o.j.createElement(u.a,{"className":"delivery-info-right","onClick":this.selectStore.bind(this)},d?o.j.createElement(p.a,{"className":"delivery-store-name"},d):o.j.createElement(p.a,{"className":"delivery-store-reminder"},"请选择提货门店"),o.j.createElement(l.a,{"src":n(204)}))),i&&o.j.createElement(u.a,{"className":"delivery-info-item"},o.j.createElement(u.a,{"className":"delivery-info-left"},"预约人"),o.j.createElement(u.a,{"className":"delivery-info-right bold"},i.personName))),o.j.createElement(u.a,{"className":"delivery-reminder"},"线上预约商品到货后，需前往线下提货门店完成付款提货")),o.j.createElement(u.a,{"className":"reserve-btn","onClick":this.submitBtnClick.bind(this)},"立即预约")),o.j.createElement(S.a,null),o.j.createElement(I.a,{"isOpened":m,"title":"选择门店","onClose":this.handleClose.bind(this),"className":"store-modal"},s&&s.map(function(t,r){return o.j.createElement(u.a,{"className":"store-item","onClick":e.storeItemClick.bind(e,t)},o.j.createElement(u.a,{"className":"store-item-top"},o.j.createElement(p.a,{"className":"store-name"},t.storeName),c===t.id&&o.j.createElement(l.a,{"src":n(209),"className":"selected-icon"})),o.j.createElement(u.a,{"className":"store-item-bottom"},o.j.createElement(p.a,{"className":"address"},"地址：",t.storeAddress),t.distance&&t.distance>0?o.j.createElement(p.a,{"className":"distance"},"（距您",t.distance>1e3?(t.distance/1e3).toFixed(1)+"km":t.distance+"m","）"):null))}),f?o.j.createElement(B.a,null):o.j.createElement(N.a,{"text":"暂无更多门店"})))}},{"key":"componentDidMount","value":function componentDidMount(){L(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this)&&L(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){L(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this)&&L(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this).call(this)}}]),Index}();J=Object(r.a)([Object(d.b)(function(e){return function _objectDestructuringEmpty(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e),{}})],J);t.default=J}}]);