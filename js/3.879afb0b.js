(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"157":function(e,o,t){var n=t(196).Symbol;e.exports=n},"163":function(e,o,t){var n=t(157),r=t(201),l=t(202),c="[object Null]",i="[object Undefined]",s=n?n.toStringTag:void 0;e.exports=function baseGetTag(e){return null==e?void 0===e?i:c:s&&s in Object(e)?r(e):l(e)}},"166":function(e,o,t){"use strict";var n=t(2),r=t(1),l=function(){function defineProperties(e,o){for(var t=0;t<o.length;t++){var n=o[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,o,t){return o&&defineProperties(e.prototype,o),t&&defineProperties(e,t),e}}();function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function filter(e,o,t){if(!o)return null;var n=e.id,r=e.dataset,l=e.rect,c=e.size,i=e.scrollOffset,s=e.properties,a=void 0===s?[]:s,u=e.computedStyle,f=void 0===u?[]:u,p=o.getBoundingClientRect(),h=p.left,y=p.right,d=p.top,v=p.bottom,b=p.width,m=p.height,_="html"===t,w={};if(n&&(w.id=o.id),r&&(w.dataset=Object.assign({},o.dataset)),l&&(_?(w.left=0,w.right=0,w.top=0,w.bottom=0):(w.left=h,w.right=y,w.top=d,w.bottom=v)),c&&(_?(w.width=o.clientWidth,w.height=o.clientHeight):(w.width=b,w.height=m)),i&&(w.scrollLeft=o.scrollLeft,w.scrollTop=o.scrollTop,w.scrollHeight=o.scrollHeight,w.scrollWidth=o.scrollWidth),a.length&&a.forEach(function(e){var t=o.getAttribute(e);t&&(w[e]=t)}),f.length){var T=window.getComputedStyle(o);f.forEach(function(e){var o=T.getPropertyValue(e);o&&(w[e]=o)})}return w}!function(){function Query(){_classCallCheck(this,Query),this._defaultWebviewId=null,this._webviewId=null,this._queue=[],this._queueCb=[],this._component=null}l(Query,[{"key":"in","value":function _in(e){return this._component=e,this}},{"key":"select","value":function select(e){return"string"==typeof e&&(e=e.replace(">>>",">")),new c(e,this,!0)}},{"key":"selectAll","value":function selectAll(e){return"string"==typeof e&&(e=e.replace(">>>",">")),new c(e,this,!1)}},{"key":"selectViewport","value":function selectViewport(){return new c("html",this,!0)}},{"key":"exec","value":function exec(e){var o=this;!function queryBat(e,o){var t=[];e.forEach(function(e){var o=e.selector,n=e.single,l=e.fields,c=e.component,i=null!==c&&r.j.findDOMNode(c)||document,s=!1;if(i!==document)for(var a=i.parentNode.querySelectorAll(o),u=0,f=a.length;u<f;++u)if(i===a[u]){s=!0;break}if(n){var p=!0===s?i:i.querySelector(o);t.push(filter(l,p,o))}else{var h=i.querySelectorAll(o),y=[];!0===s&&y.push(i);for(var d=0,v=h.length;d<v;++d)y.push(h[d]);t.push(y.map(function(e){return filter(l,e)}))}}),o(t)}(this._queue,function(t){var n=o._queueCb;t.forEach(function(e,t){"function"==typeof n[t]&&n[t].call(o,e)}),"function"==typeof e&&e.call(o,t)})}},{"key":"_push","value":function _push(e,o,t,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this._queue.push({"component":o,"selector":e,"single":t,"fields":n}),this._queueCb.push(r)}}])}();var c=function(){function NodesRef(e,o,t){_classCallCheck(this,NodesRef),this._component=o._component,this._selector=e,this._selectorQuery=o,this._single=t}return l(NodesRef,[{"key":"boundingClientRect","value":function boundingClientRect(e){var o=this._selector,t=this._component,n=this._single,r=this._selectorQuery;return r._push(o,t,n,{"id":!0,"dataset":!0,"rect":!0,"size":!0},e),r}},{"key":"scrollOffset","value":function scrollOffset(e){var o=this._selector,t=this._component,n=this._single,r=this._selectorQuery;return r._push(o,t,n,{"id":!0,"dataset":!0,"scrollOffset":!0},e),r}},{"key":"fields","value":function fields(e,o){var t=this._selector,n=this._component,r=this._single,l=this._selectorQuery,c=e.id,i=e.dataset,s=e.rect,a=e.size,u=e.scrollOffset,f=e.properties,p=void 0===f?[]:f,h=e.computedStyle,y=void 0===h?[]:h;return l._push(t,n,r,{"id":c,"dataset":i,"rect":s,"size":a,"scrollOffset":u,"properties":p,"computedStyle":y},o),l}}]),NodesRef}();t.d(o,"b",function(){return initTestEnv}),t.d(o,"a",function(){return handleTouchScroll});var i=n.a.getEnv();function initTestEnv(){0}var s=0;function handleTouchScroll(e){i===n.a.ENV_TYPE.WEB&&(e?(s=document.documentElement.scrollTop,document.body.classList.add("at-frozen"),document.body.style.top=-s+"px"):(document.body.style.top=null,document.body.classList.remove("at-frozen"),document.documentElement.scrollTop=s))}},"196":function(e,o,t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=t(197),l="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,c=r||l||Function("return this")();e.exports=c},"197":function(e,o,t){(function(o){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n="object"==(void 0===o?"undefined":t(o))&&o&&o.Object===Object&&o;e.exports=n}).call(this,t(9))},"201":function(e,o,t){var n=t(157),r=Object.prototype,l=r.hasOwnProperty,c=r.toString,i=n?n.toStringTag:void 0;e.exports=function getRawTag(e){var o=l.call(e,i),t=e[i];try{e[i]=void 0;var n=!0}catch(e){}var r=c.call(e);return n&&(o?e[i]=t:delete e[i]),r}},"202":function(e,o){var t=Object.prototype.toString;e.exports=function objectToString(e){return t.call(e)}},"205":function(e,o,t){var n=t(163),r=t(206),l="[object AsyncFunction]",c="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";e.exports=function isFunction(e){if(!r(e))return!1;var o=n(e);return o==c||o==i||o==l||o==s}},"206":function(e,o){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function isObject(e){var o=void 0===e?"undefined":t(e);return null!=e&&("object"==o||"function"==o)}},"207":function(e,o,t){var n=t(208);"string"==typeof n&&(n=[[e.i,n,""]]);var r={"sourceMap":!1,"insertAt":"top","hmr":!0,"transform":void 0,"insertInto":void 0};t(33)(n,r);n.locals&&(e.exports=n.locals)},"208":function(e,o,t){(e.exports=t(32)(!1)).push([e.i,".taro-scroll {\n  -webkit-overflow-scrolling: auto;\n}\n\n.taro-scroll::-webkit-scrollbar {\n  display: none;\n}\n\n.taro-scroll-view {\n  overflow: hidden;\n}\n\n.taro-scroll-view__scroll-x {\n  overflow-x: scroll;\n  overflow-y: hidden;\n}\n\n.taro-scroll-view__scroll-y {\n  overflow-x: hidden;\n  overflow-y: scroll;\n}",""])},"257":function(e,o,t){"use strict";var n=t(1),r=t(21),l=t(126),c=(t(18),t(34)),i=t(8),s=t.n(i),a=(t(207),Object.assign||function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}),u=function(){function defineProperties(e,o){for(var t=0;t<o.length;t++){var n=o[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,o,t){return o&&defineProperties(e.prototype,o),t&&defineProperties(e,t),e}}();function _defineProperty(e,o,t){return o in e?Object.defineProperty(e,o,{"value":t,"enumerable":!0,"configurable":!0,"writable":!0}):e[o]=t,e}function easeOutScroll(e,o,t){if(e!==o&&"number"==typeof e){var n=o-e,r=500,l=+new Date,c=o>=e;!function step(){e=function linear(e,o,t,n){return t*e/n+o}(+new Date-l,e,n,r),c&&e>=o||!c&&o>=e?t(o):(t(e),requestAnimationFrame(step))}()}}var f=function(e){function ScrollView(){!function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,ScrollView);var e=function _possibleConstructorReturn(e,o){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?e:o}(this,(ScrollView.__proto__||Object.getPrototypeOf(ScrollView)).apply(this,arguments));return e.onTouchMove=function(e){e.stopPropagation()},e}return function _inherits(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);e.prototype=Object.create(o&&o.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(e,o):e.__proto__=o)}(ScrollView,n["j"].Component),u(ScrollView,[{"key":"componentDidMount","value":function componentDidMount(){var e=this;setTimeout(function(){var o=e.props;o.scrollY&&"number"==typeof o.scrollTop&&("scrollWithAnimation"in o?easeOutScroll(0,o.scrollTop,function(o){e.container.scrollTop=o}):e.container.scrollTop=o.scrollTop,e._scrollTop=o.scrollTop),o.scrollX&&"number"==typeof o.scrollLeft&&("scrollWithAnimation"in o?easeOutScroll(0,o.scrollLeft,function(o){e.container.scrollLeft=o}):e.container.scrollLeft=o.scrollLeft,e._scrollLeft=o.scrollLeft)},10)}},{"key":"componentWillReceiveProps","value":function componentWillReceiveProps(e){var o=this,t=this.props;e.scrollY&&"number"==typeof e.scrollTop&&e.scrollTop!==this._scrollTop&&("scrollWithAnimation"in e?easeOutScroll(this._scrollTop,e.scrollTop,function(e){o.container.scrollTop=e}):this.container.scrollTop=e.scrollTop,this._scrollTop=e.scrollTop),e.scrollX&&"number"==typeof t.scrollLeft&&e.scrollLeft!==this._scrollLeft&&("scrollWithAnimation"in e?easeOutScroll(this._scrollLeft,e.scrollLeft,function(e){o.container.scrollLeft=e}):this.container.scrollLeft=e.scrollLeft,this._scrollLeft=e.scrollLeft),e.scrollIntoView&&"string"==typeof e.scrollIntoView&&document&&document.querySelector&&document.querySelector("#"+e.scrollIntoView)&&document.querySelector("#"+e.scrollIntoView).scrollIntoView({"behavior":"smooth","block":"center","inline":"start"})}},{"key":"render","value":function render(){var e,o=this,t=this.props,r=t.className,l=t.onScroll,i=t.onScrollToUpper,u=t.onScrollToLower,f=t.onTouchMove,p=t.scrollX,h=t.scrollY,y=this.props,d=y.upperThreshold,v=void 0===d?50:d,b=y.lowerThreshold,m=void 0===b?50:b,_=s()("taro-scroll",(_defineProperty(e={},"taro-scroll-view__scroll-x",p),_defineProperty(e,"taro-scroll-view__scroll-y",h),e),r);v=parseInt(v),m=parseInt(m);var w=function throttle(e,o){var t=null;return function(){clearTimeout(t),t=setTimeout(function(){e()},o)}}(function uperAndLower(){var e=o.container,t=e.offsetWidth,n=e.offsetHeight,r=e.scrollLeft,l=e.scrollTop,c=e.scrollHeight,s=e.scrollWidth;u&&(o.props.scrollY&&n+l+m>=c||o.props.scrollX&&t+r+m>=s)&&u(),i&&(o.props.scrollY&&l<=v||o.props.scrollX&&r<=v)&&i()},200);return n.j.createElement("div",a({"ref":function ref(e){o.container=e}},Object(c.a)(this.props,["className","scrollTop","scrollLeft"]),{"className":_,"onScroll":function _onScroll(e){var t=o.container,n=t.scrollLeft,r=t.scrollTop,c=t.scrollHeight,i=t.scrollWidth;o._scrollLeft=n,o._scrollTop=r,e.detail={"scrollLeft":n,"scrollTop":r,"scrollHeight":c,"scrollWidth":i},w(),l&&l(e)},"onTouchMove":function _onTouchMove(e){f?f(e):o.onTouchMove(e)}}),this.props.children)}}]),ScrollView}(),p=t(136),h=t.n(p),y=t(205),d=t.n(y),v=t(137),b=t(166);t.d(o,"a",function(){return _});var m=function(){function defineProperties(e,o){for(var t=0;t<o.length;t++){var n=o[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,o,t){return o&&defineProperties(e.prototype,o),t&&defineProperties(e,t),e}}();var _=function(e){function AtFloatLayout(e){!function float_layout_classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,AtFloatLayout);var o=function float_layout_possibleConstructorReturn(e,o){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?e:o}(this,(AtFloatLayout.__proto__||Object.getPrototypeOf(AtFloatLayout)).apply(this,arguments));o.handleClose=function(){d()(o.props.onClose)&&o.props.onClose()},o.close=function(){o.setState({"_isOpened":!1},o.handleClose)},o.handleTouchMove=function(e){e.stopPropagation()};var t=e.isOpened;return o.state={"_isOpened":t},o}return function float_layout_inherits(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);e.prototype=Object.create(o&&o.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(e,o):e.__proto__=o)}(AtFloatLayout,v["a"]),m(AtFloatLayout,[{"key":"componentWillReceiveProps","value":function componentWillReceiveProps(e){var o=e.isOpened;this.props.isOpened!==o&&Object(b.a)(o),o!==this.state._isOpened&&this.setState({"_isOpened":o})}},{"key":"render","value":function render(){var e=this.state._isOpened,o=this.props,t=o.title,c=o.scrollY,i=o.scrollX,a=o.scrollTop,u=o.scrollLeft,p=o.upperThreshold,h=o.lowerThreshold,y=o.scrollWithAnimation,d=s()("at-float-layout",{"at-float-layout--active":e},this.props.className);return n.j.createElement(r.a,{"className":d,"onTouchMove":this.handleTouchMove},n.j.createElement(r.a,{"onClick":this.close,"className":"at-float-layout__overlay"}),n.j.createElement(r.a,{"className":"at-float-layout__container layout"},t?n.j.createElement(r.a,{"className":"layout-header"},n.j.createElement(l.a,{"className":"layout-header__title"},t),n.j.createElement(r.a,{"className":"layout-header__btn-close","onClick":this.close})):null,n.j.createElement(r.a,{"className":"layout-body"},n.j.createElement(f,{"scrollY":c,"scrollX":i,"scrollTop":a,"scrollLeft":u,"upperThreshold":p,"lowerThreshold":h,"scrollWithAnimation":y,"onScroll":this.props.onScroll,"onScrollToLower":this.props.onScrollToLower,"onScrollToUpper":this.props.onScrollToUpper,"className":"layout-body__content"},this.props.children))))}}]),AtFloatLayout}();_.defaultProps={"title":"","isOpened":!1,"scrollY":!0,"scrollX":!1,"scrollWithAnimation":!1,"onClose":function onClose(){},"onScroll":function onScroll(){},"onScrollToLower":function onScrollToLower(){},"onScrollToUpper":function onScrollToUpper(){}},_.propType={"title":h.a.string,"isOpened":h.a.bool,"scrollY":h.a.bool,"scrollX":h.a.bool,"scrollTop":h.a.number,"scrollLeft":h.a.number,"upperThreshold":h.a.number,"lowerThreshold":h.a.number,"scrollWithAnimation":h.a.bool,"onClose":h.a.func,"onScroll":h.a.func,"onScrollToLower":h.a.func,"onScrollToUpper":h.a.func}}}]);